---
description: An explanation of vertex colors in three.js.
order: 3
title: Vertex Colors
---

import App from "@components/examples/shaders/vertex-colors/app.svelte";

import { Steps, TabItem, Tabs } from "@astrojs/starlight/components";

:::caution
this article is a work in progress
:::

Assigns a color to each vertex of a geometry. Colors are interpolated along the face just like any other vertex attribute.

<App client:visible />

## Usage

{/* prettier-ignore-start */}

<Steps>
1. Assign a **"color"** attribute to the buffer geometry.

    ```ts
    const colorAttribute = createColorAttribute(); // stub function
    geometry.setAttribute("color", colorAttribute);
    ```

2. Set the **vertexColors** property of the material to **true**.

    ```ts
    const material = new MeshBasicMaterial({
    	vertexColors: true,
    });
    ```
</Steps>

{/* prettier-ignore-end */}

## Purpose

### Adding Color Depth

Before PBR graphics, vertex coloring was often used to add depth to a scene's colors. By combining the vertex color data with texture data, you can, for example, darken areas of a geometry where there shouldn't be as much light.

<Tabs>
	<TabItem label="vertex colors disabled">
		![a screenshot of the beach location from pokemon snap with vertex coloring
		disabled](@assets/pokemon-snap-beach-textures.png)
	</TabItem>
	<TabItem label="textures disabled">
		![a screenshot of the beach location from pokemon snap with vertex coloring
		disabled](@assets/pokemon-snap-beach-vertex-colors.png)
	</TabItem>
	<TabItem label="both enabled">
		![a screenshot of the beach location from pokemon snap with vertex coloring
		disabled](@assets/pokemon-snap-beach.png)
	</TabItem>
</Tabs>

Notice that the vertex color data is used mostly a gradient to add a bit of depth to the colors of the scene, for example around the surfboard, butterfree's wings, and the flowers. Interesting, the water's vertex color is not grayscale and is probably used differently in its material.

A simple way to combine texture data and vertex color data in this way is to simply multiply the texture color by the vertex data color, essentially interpolating the texture color by the vertex color data where a vertex color value of **0** maps to black and a value of **1** maps to the texture color. In this case, the vertex color data is assumed be in the interval **[0, 1]**and consists of a single float per vertex. If your buffer attribute resembles three.js's color class which consists of 3 number, r, g, and b, you should make sure that each channel is the same.

:::tip[todo]
example with a grayscale color attribute and the fragment shader simply multiplies the texture data with the vertex color data
:::

## Resources

- [noclip.website](noclip.website) a digital museum of video game levels
